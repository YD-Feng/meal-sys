webpackJsonp([5],{22:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a(1),i=n(o),u=a(2),p=a(3),f=function(e){function t(){return l(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),c(t,[{key:"componentWillMount",value:function(){var e=this;e.props.dispatch((0,p.setPath)(e.props.location.pathname)),e.props.dispatch((0,p.showLoading)()),ws.send(JSON.stringify({method:"getStapleList",data:{shopId:e.props.location.query.id}}))}},{key:"handleClick",value:function(){ws.send(JSON.stringify({method:"finish",data:{shopId:this.props.location.query.id}}))}},{key:"render",value:function(){var e=this,t=null,a=0,n=0;return t=e.props.stapleList&&0==e.props.stapleList.length?i.default.createElement("div",{className:"cm-no-data"},i.default.createElement("i",{className:"face"}),i.default.createElement("p",{className:"text"},"暂时还没有任何人点餐呢")):i.default.createElement("ul",{className:"detail-list"},e.props.stapleList&&e.props.stapleList.map(function(e,t){var l=e.checkList.length,r=e.checkList.join("、");return a+=l,n+=l*e.price,i.default.createElement("li",{className:"item"},i.default.createElement("div",{className:"top-wrap"},i.default.createElement("p",{className:"title"},e.name,i.default.createElement("em",{className:"cm-text-yellow"},"（",e.price,"元）")),i.default.createElement("p",{className:"count"},"已点 ",i.default.createElement("em",{className:"cm-text-yellow"},l)," 份")),i.default.createElement("div",{className:"bottom-wrap"},i.default.createElement("span",{className:"cm-text-green"},"好这口的人："),r))})),i.default.createElement("div",null,t,i.default.createElement("div",{className:"total-msg"},"订餐份数：",i.default.createElement("em",{className:"cm-text-red fBold"},a),"， 订餐总价：",i.default.createElement("em",{className:"cm-text-red fBold"},n),"元"),i.default.createElement("div",{className:"btn-finish-wrap"},i.default.createElement("button",{className:"btn-finish",onClick:function(t){return e.handleClick(t)}},"结 束 订 餐")),i.default.createElement("br",null),i.default.createElement("br",null),i.default.createElement("br",null))}}]),t}(i.default.Component);f=(0,u.connect)(function(e){return{stapleList:e.stapleList}})(f),e.exports=f}});